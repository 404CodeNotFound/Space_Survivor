#include "ProjectileEnemy.h"
#include "GameApp.h"
#include "Graphics.h"
#include "Gamescreen.h"
#include "Res.h"
#include <stdio.h>
#include <math.h>


////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
ProjectileEnemy::ProjectileEnemy(float x, float y, float sx, float sy) {
	mBigbullet = ENEMY_BULLET;

	mX = x;
	mY = y + 30;
	mSpeedX = sx;
	mSpeedY = sy;

	w = mBigbullet->w;
	h = mBigbullet->h;
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
ProjectileEnemy::~ProjectileEnemy() {
}

////////////////////////////////////////////////////////////////////////////////
// Anropas 100 gånger per sekund. Utför all logik här. 
////////////////////////////////////////////////////////////////////////////////
void ProjectileEnemy::Update() {
	// Flytta ansiktet.
	mX += mSpeedX;
	mY += mSpeedY;
	
	//kollen nedan ska vara kvar, reserverat utrymme på skärmen för score och life
	if (mY<40.0)
		mY = 40.0;
	if (mX<0) {
		mGamescreen->KillObject(this);
	}
}

////////////////////////////////////////////////////////////////////////////////
// Utför all utritning här.
////////////////////////////////////////////////////////////////////////////////
void ProjectileEnemy::Draw(Graphics *g) {
	g->DrawImage(mBigbullet, mX, mY);
}
////////////////////////////////7
void ProjectileEnemy::SetSpeed(float SpeedX, float SpeedY){
	mSpeedX = SpeedX;
	mSpeedY = SpeedY;
}
////////////////////////////////////
void ProjectileEnemy::Overlap(Gameobject *gameobject) {
	mGamescreen->KillObject(this);
}