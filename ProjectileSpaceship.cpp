#include "ProjectileSpaceship.h"
#include "GameApp.h"
#include "Graphics.h"
#include "Gamescreen.h"
#include "Res.h"
#include <stdio.h>
#include <math.h>


////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
ProjectileSpaceship::ProjectileSpaceship(float x, float y, float sy = 0) {
	mBigbullet = SPACESHIP_BULLET;

	mX = x + 64;
	mY = y + 22;
	mSpeedX = 3.0;
	mSpeedY = sy;

	w = mBigbullet->w;
	h = mBigbullet->h;
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
ProjectileSpaceship::~ProjectileSpaceship() {
}

////////////////////////////////////////////////////////////////////////////////
// Anropas 100 gånger per sekund. Utför all logik här. 
////////////////////////////////////////////////////////////////////////////////
void ProjectileSpaceship::Update() {
	mX += mSpeedX;
	mY += mSpeedY;
	if (mY<40.0)
		mY = 40.0;
	if(mX>800) {
		mGamescreen->KillObject(this);
	}
}

////////////////////////////////////////////////////////////////////////////////
// Utför all utritning här.
////////////////////////////////////////////////////////////////////////////////
void ProjectileSpaceship::Draw(Graphics *g) {
	g->DrawImage(mBigbullet, mX, mY);
}
////////////////////////////////7
void ProjectileSpaceship::SetSpeed(float SpeedX, float SpeedY){
	mSpeedX = SpeedX;
	mSpeedY = SpeedY;
}
////////////////////////////////////
void ProjectileSpaceship::Overlap(Gameobject *gameobject) {
	mGamescreen->KillObject(this);
}