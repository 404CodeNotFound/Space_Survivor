#include "ProjectileSpaceship.h"
#include "GameApp.h"
#include "Graphics.h"
#include "Gamescreen.h"
#include "Res.h"
#include <stdio.h>
#include <math.h>


////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
ProjectileSpaceship::ProjectileSpaceship(float x, float y) : Gameobject(x+64,y+22,3.0,0) { 
	mBigbullet = BIGBULLET_SURFACE;

	Setw(mBigbullet->w);
	Seth(mBigbullet->h);
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
ProjectileSpaceship::~ProjectileSpaceship() {
}
////////////////////////////////////////////////////////////////////////////////
// Anropas 100 gånger per sekund. Utför all logik här. 
////////////////////////////////////////////////////////////////////////////////
void ProjectileSpaceship::Update() {
	SetPosX(GetPosX() + GetSpeedX());
	SetPosY(GetPosY() + GetSpeedY());
	if (GetPosY()<40.0)
		SetPosY(40.0);
	if (GetPosX()>800) {
		mGamescreen->KillObject(this);
	}
	int dick;
}

////////////////////////////////////////////////////////////////////////////////
// Utför all utritning här.
////////////////////////////////////////////////////////////////////////////////
void ProjectileSpaceship::Draw(Graphics *g) {
	g->DrawImage(mBigbullet, GetPosX(), GetPosY());
}
////////////////////////////////////
void ProjectileSpaceship::Overlap(Gameobject *gameobject) {
	mGamescreen->KillObject(this);
}