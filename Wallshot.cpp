#include "Wallshot.h"
#include "GameApp.h"
#include "Graphics.h"
#include "Gamescreen.h"
#include "Res.h"
#include <stdio.h>
#include <math.h>


////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Wallshot::Wallshot(float x, float y, float sx, float sy) {
	mBigbullet = FIRE_BOMB;

	mX = x + 60;
	mY = y + 30;
	mSpeedX = sx;
	mSpeedY = sy;

	w = mBigbullet->w;
	h = mBigbullet->h;
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Wallshot::~Wallshot() {
}

////////////////////////////////////////////////////////////////////////////////
// Anropas 100 gånger per sekund. Utför all logik här. 
////////////////////////////////////////////////////////////////////////////////
void Wallshot::Update() {
	mX += mSpeedX;
	mY += mSpeedY;

	if (mX <= 630)
		mSpeedY = 0;
	if (mY<40.0)
		mY = 40.0;
	if (mX<0) {
		mGamescreen->KillObject(this);
	}
}

////////////////////////////////////////////////////////////////////////////////
// Utför all utritning här.
////////////////////////////////////////////////////////////////////////////////
void Wallshot::Draw(Graphics *g) {
	g->DrawImage(mBigbullet, mX, mY);
}
////////////////////////////////7
void Wallshot::SetSpeed(float SpeedX, float SpeedY){
	mSpeedX = SpeedX;
	mSpeedY = SpeedY;
}
////////////////////////////////////
void Wallshot::Overlap(Gameobject *gameobject) {
	mGamescreen->KillObject(this);
}