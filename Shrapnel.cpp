#include "Shrapnel.h"
#include "GameApp.h"
#include "Graphics.h"
#include "Gamescreen.h"
#include "Res.h"
#include <stdio.h>
#include <math.h>


////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Shrapnel::Shrapnel(float x, float y, float sx, float sy) {
	mBigbullet = ROUND_BULLET;

	mX = x;
	mY = y + 30;
	mSpeedX = sx;
	mSpeedY = sy;

	w = mBigbullet->w;
	h = mBigbullet->h;
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Shrapnel::~Shrapnel() {
}

////////////////////////////////////////////////////////////////////////////////
// Anropas 100 gånger per sekund. Utför all logik här. 
////////////////////////////////////////////////////////////////////////////////
void Shrapnel::Update() {
	mX += mSpeedX;
	mY += mSpeedY;

	if (mX<0) {
		mGamescreen->KillObject(this);
	}
}

////////////////////////////////////////////////////////////////////////////////
// Utför all utritning här.
////////////////////////////////////////////////////////////////////////////////
void Shrapnel::Draw(Graphics *g) {
	g->DrawImage(mBigbullet, mX, mY);
}
////////////////////////////////7
void Shrapnel::SetSpeed(float SpeedX, float SpeedY){
	mSpeedX = SpeedX;
	mSpeedY = SpeedY;
}
////////////////////////////////////
void Shrapnel::Overlap(Gameobject *gameobject) {
	mGamescreen->KillObject(this);
}