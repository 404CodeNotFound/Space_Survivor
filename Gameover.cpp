#include "Gameover.h"
#include "GameApp.h"
#include "Graphics.h"
#include "Res.h"
#include "Gamescreen.h"
#include "Highscore.h"
#include "audiere.h"
#include <stdio.h>


////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Gameover::Gameover(int points) {

	//Läs in bakgrundsbild

	mGameoverSurface = GAME_OVER_SURFACE;
	//audiere
	sDarth->play();
	sDarth->setRepeat(false);

	mBGX = 0.0f;
	counter = 0;
	mPoints = points;
	printf("Points in Gameover:, %d", mPoints);
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Gameover::~Gameover() {
	
	// audiere.
	sDarth->stop();
	printf("Gameover destroyed\n");
}


////////////////////////////////////////////////////////////////////////////////
// Anropas 100 gånger per sekund. Utför all logik här. 
////////////////////////////////////////////////////////////////////////////////
void Gameover::Update() {

	if (counter == 800) {
		GameApp()->SetScreen(new Highscore(mPoints));
	}
	counter = counter + 1;
}

////////////////////////////////////////////////////////////////////////////////
// Utför all utritning här.
////////////////////////////////////////////////////////////////////////////////
void Gameover::Draw(Graphics *g) {
	g->DrawImage(mGameoverSurface, (int)mBGX, 0);
}
//////////////////////7
void Gameover::KeyDown(SDL_Keycode keyCode) {
}

void Gameover::KeyUp(SDL_Keycode keyCode) {
}

