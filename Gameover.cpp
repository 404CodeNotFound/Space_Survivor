#include "Gameover.h"
#include "GameApp.h"
#include "Graphics.h"
#include "Res.h"
#include "Gamescreen.h"
#include <stdio.h>


////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Gameover::Gameover() {

	//Läs in bakgrundsbild

	//mBGSurface = SDL_LoadBMP("assets/background.bmp");
	//mBGSurface = BG_SURFACE;
	mGameoverSurface = GAME_OVER_SURFACE;

	//Bakgrundens position

	mBGX = 0.0f;
	counter = 0;
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////
Gameover::~Gameover() {
	// Frigör bild.
	//SDL_FreeSurface(mFaceSurface);
	//SDL_FreeSurface(mBGSurface);
	printf("Gameover destroyed\n");
}

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// 
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Anropas 100 gånger per sekund. Utför all logik här. 
////////////////////////////////////////////////////////////////////////////////
void Gameover::Update() {

	if (counter == 200)
		GameApp()->SetScreen(new Gamescreen());
	//mBGX = mBGX - 1.0f;
	//if (mBGX < -640.0) mBGX += 640.0;
	counter = counter + 1;
}

////////////////////////////////////////////////////////////////////////////////
// Utför all utritning här.
////////////////////////////////////////////////////////////////////////////////
void Gameover::Draw(Graphics *g) {
	// Rensa skärmen.
	//g->Clear(RGB(255, 255, 255));
	g->DrawImage(mGameoverSurface, (int)mBGX, 0);
	//g->DrawImage(mBGSurface, (int)(mBGX + 640.0), 0);
	// Rita ut ansikte.
}
//////////////////////7
void Gameover::KeyDown(SDL_Keycode keyCode) {
}

void Gameover::KeyUp(SDL_Keycode keyCode) {
}

